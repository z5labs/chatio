(self["webpackChunkchatio"]=self["webpackChunkchatio"]||[]).push([[923],{13709:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>B});var o=t(83673);function r(n,e,t,r,a,c){return(0,o.WI)(n.$slots,"default",{node:n.node})}var a=t(10556),c=(t(90246),t(54389)),i=t.n(c),s=t(68027),d=t.n(s),u=t(30506),l=t.n(u),p=t(89608),f=t.n(p),h=t(62640),b=t.n(h),g=t(69055),m=t(69810),v=t.n(m),y=t(30314),w=t.n(y),S=t(99349),k=t.n(S);const D=k()("chatio:peer"),I=d().prototype[Symbol.toStringTag],M=async n=>{const e=await i().create({peerId:n.peerId,addresses:{listen:n.signalAddrs},modules:{transport:[d(),f()],streamMuxer:[b()],connEncryption:[g.NOISE],dht:v(),pubsub:w()},config:{peerDiscovery:{autoDial:!0,[f().tag]:{enabled:!0}},dht:{enabled:n.dht.enabled,randomWalk:{enabled:n.dht.randomWalk}},transport:{[I]:{filter:l().all}}}});return e.connectionManager.on("peer:discovery",(n=>D(`Discovered: ${n.toB58String()}`))),e.connectionManager.on("peer:connect",(n=>D(`Connected: ${n.remotePeer.toB58String()}`))),e.connectionManager.on("peer:disconnect",(n=>D(`Disconnected: ${n.remotePeer.toB58String()}`))),await e.start(),e};var $=function(n,e,t,o){function r(n){return n instanceof t?n:new t((function(e){e(n)}))}return new(t||(t=Promise))((function(t,a){function c(n){try{s(o.next(n))}catch(e){a(e)}}function i(n){try{s(o["throw"](n))}catch(e){a(e)}}function s(n){n.done?t(n.value):r(n.value).then(c,i)}s((o=o.apply(n,e||[])).next())}))};const x=(0,o.aZ)({name:"Libp2p",emits:["node"],setup(n,{emit:e}){return $(this,void 0,void 0,(function*(){const n=(0,a.useStore)(),t=yield M(n.state.libp2p);return e("node",t),{node:t}}))}});x.render=r;const B=x},5696:()=>{},89408:()=>{},57600:()=>{},52361:()=>{},94616:()=>{}}]);